<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>FEDDLib: Required Software</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">FEDDLib
   </div>
   <div id="projectbrief">Finite Element Domain Decomposition Library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Required Software </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>The following list of software is required by the Windows build scripts. The build scripts assume this software will be installed in specific locations, so before installing it would be worthwhile to browse the scripts for these locations. Alternatively, you could download and install the software wherever you want - just be sure to copy and update the build scripts with the correct locations.</p>
<p><b><a href="https://cmake.org/download/">CMake</a></b> - required to setup the build configuration. (Tested using version 3.8.1)</p>
<p><b><a href="https://ninja-build.org/">Ninja</a></b> - required to parallelize the build on Windows. (Tested using version 1.7.2)</p>
<p><b><a href="https://www.visualstudio.com/">Visual Studio 2015</a></b> - required to build packages.</p>
<p><b><a href="https://msdn.microsoft.com/en-us/library/bb524831(v=vs.85).aspx">Microsoft MPI</a></b> - required to create MPI builds of packages. (Tested using version 8.1.12438.1084)</p>
<p><b>Perl</b> - required by some packages for testing. (Tested using <a href="http://strawberryperl.com/">Strawberry Perl</a> version 5.24.1.1)</p>
<p><b><a href="https://git-scm.com/">Git</a></b> - required for the scripts to update source code.</p>
<p><b>CLAPACK</b> - required TPL dependency for some packages (Tested using version 3.2.1). Note that if a pre-built version is not available, you must <a href="http://icl.cs.utk.edu/lapack-for-windows/clapack/">build it from source code</a>.</p>
<h1>Script Usage</h1>
<p>There are two scripts intended for the typical user - <em>task_driver_windows.bat</em> and <em>create_windows_package.bat</em>. For details about additional scripts, please refer to the <a href="../../#Script-File-Summary">Script File Summary</a> section below.</p>
<h5>task_driver_windows.bat</h5>
<p>This script builds and tests Trilinos packages for both Debug and Release configurations, following the Trilinos package-by-package testing paradigm. The packages are built as static libraries, and the results are submitted to <a href="https://testing-vm.sandia.gov/cdash">CDash</a>. This script may be launched from the command-line as is, without any additional arguments.</p>
<h5>create_windows_package.bat</h5>
<p>This script creates a ZIP package of static libraries and header files from the set of Trilinos packages specified in the script. The expected syntax to use the script is:</p>
<p><code>create_windows_package.bat &lt;Build Type&gt; &lt;Base Directory&gt;</code></p>
<p>where <code>&lt;Build Type&gt;</code> specifies the build configuration (Release or Debug) and <code>&lt;Base Directory&gt;</code> specifies a root working directory where the script will clone/update the Trilinos repository as a sub-directory, create a build sub-directory to do the actual build, and place resulting output files and ZIP package. For example,</p>
<div class="fragment"><div class="line">create_windows_package.bat Debug C:\path\to\DebugPackageDir</div>
</div><!-- fragment --><p>would create a Debug build of static libraries, and at the end of the script the base directory would have the following contents:</p>
<div class="fragment"><div class="line">C:\path\to\DebugPackageDir</div>
<div class="line">   - build                     (Build directory)</div>
<div class="line">   - Trilinos                  (Source code directory)</div>
<div class="line">   - update_output.txt         (Output from the Git update step)</div>
<div class="line">   - configure_output.txt      (Output from the Configure step)</div>
<div class="line">   - build_output.txt          (Output from the build step)</div>
<div class="line">   - package_output.txt        (Output from the package step)</div>
<div class="line">   - trilinos-setup-12.3.zip   (Resulting ZIP package)</div>
</div><!-- fragment --><h1>Script File Summary</h1>
<h5>TrilinosCTestDriverCore.windows.msvc.cmake</h5>
<p>CMake script that sets the options common to both the Debug and Release configurations of a Trilinos build on Windows using Visual Studio, including the specific Trilinos packages to be built. This script follows the Trilinos package-by-package testing paradigm. This script assumes specific build tools exist (e.g., Ninja, MSVC14, MPI, etc.) and assumes where they will be located on Windows.</p>
<h5>create_windows_package.bat</h5>
<p>Windows batch script that creates a ZIP package of static libraries and header files. It updates or clones the latest version of Trilinos as necessary, sets up a build environment for MSVC14, configures and runs CMake, then builds the specified Trilinos packages using Ninja and MSVC. After the build is complete, it creates the ZIP package using CPack. The output for each step of the process is recorded in individual files (e.g., configure_output.txt, build_output.txt, etc.) within the specified working directory.</p>
<h5>ctest_windows_mpi_debug.cmake</h5>
<p>CMake file that sets the build configuration for a Debug build before calling <em>TrilinosCTestDriverCore.windows.msvc.cmake</em>.</p>
<h5>ctest_windows_mpi_release.cmake</h5>
<p>CMake file that sets the build configuration for a Release build before calling <em>TrilinosCTestDriverCore.windows.msvc.cmake</em></p>
<h5>task_driver_windows.bat</h5>
<p>Windows batch script that sets important environment variables before running <em>ctest_windows_mpi_debug.cmake</em> and <em>ctest_windows_mpi_release.cmake</em> using CTest.</p>
<h1>Notes and Issues</h1>
<ul>
<li>The scripts assume they are starting from a clean environment. All necessary environment variables are set by the scripts.</li>
<li>When installing Perl on Windows, it likes to insert itself into the system or user PATH environment variable. This can have unintended consequences when running CMake, the most notable of which is that CMake will (wrongly) assume certain executables in Perl are part of the compiler. As a result, CMake won't find the correct MSVC compiler and linker, and the configure step will fail. If possible, try to keep Perl out of the PATH when using these scripts, or else modify the PATH before running the scripts to remove Perl.</li>
<li>As noted in Trilinos Pull Request <a href="https://github.com/trilinos/Trilinos/pull/1197">#1197</a>, the /bigobj compiler flag is necessary for debug builds, and is included in the build scripts.</li>
<li>At the time of writing, the Zoltan tests fail on Windows as noted in Trilinos Issue <a href="https://github.com/trilinos/Trilinos/issues/1440">#1440</a>.</li>
<li>The packages are currently built as static libraries. If shared libraries are desired, an effort would need to be made to resolve certain build issues. Also, care would need to be taken to ensure PATHs are setup correctly for the libraries to find each other during the build and testing. </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
